<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome to Simul-AI-tor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Link to external stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
    /* Pulsate animation for sticky CTA */
    @keyframes pulsate {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }
    .sticky-cta {
      animation: pulsate 1.5s ease-in-out infinite;
    }

    /* Piano-Key Lettering */
    .piano-text .letter {
      display: inline-block;
      transition: transform 0.2s, color 0.2s, text-shadow 0.2s;
      color: #34495e;
      margin: 0 0.05em; /* Adjust letter spacing if needed */
    }
    .piano-text .word {
      display: inline-block;
      margin-right: 0.5em; /* Space between words */
    }

    /* Secondary Nav Bar (Anchor Links to Sections) */
    .section-nav {
      display: flex;
      justify-content: center;
      background-color: #f9f7ff; /* Light background to differentiate from header */
      padding: 10px 0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .section-nav a {
      margin: 0 15px;
      color: #005f73;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }
    .section-nav a:hover {
      color: #0a6c82;
    }

    /* Carousel Overlay Controls */
    .carousel-container {
      position: relative; /* for absolutely positioned controls */
      overflow: hidden;
      margin: auto;
      max-width: 800px;
    }
    .carousel-controls {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      pointer-events: none;
    }
    .carousel-controls button {
      pointer-events: auto;
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      cursor: pointer;
      margin: 0 10px;
      transition: background 0.3s;
    }
    .carousel-controls button:hover {
      background: rgba(0, 0, 0, 0.8);
    }
    .carousel-controls button i {
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <!-- Header with Logo and Buttons -->
  <header>
    <div class="header-container">
      <div class="logo-group">
        <img src="{{ url_for('static', filename='new_logo.avif') }}" alt="Simul-AI-tor Logo">
        <h1>Simul-AI-tor</h1>
      </div>
      <div class="header-right">
        <a href="{{ url_for('login') }}">Log In</a>
        <a href="{{ url_for('register') }}">Register</a>
      </div>
    </div>
  </header>

  <!-- Secondary Navigation Bar -->
  <nav class="section-nav">
    <a href="#hero">Home</a>
    <a href="#howitworks">How It Works</a>
    <a href="#features">Features</a>
    <a href="#testimonials">Testimonials</a>
  </nav>

  <!-- Sticky Primary CTA with pulsate effect -->
  <a href="{{ url_for('register') }}" class="sticky-cta">Start your free trial now!</a>

  <!-- Hero Section -->
  <section class="hero-section" id="hero">
    <div class="hero-overlay">
      <h2 class="piano-text">
        <span class="word">
          <span class="letter">D</span>
          <span class="letter">e</span>
          <span class="letter">v</span>
          <span class="letter">e</span>
          <span class="letter">l</span>
          <span class="letter">o</span>
          <span class="letter">p</span>
        </span>
        <span class="word">
          <span class="letter">Y</span>
          <span class="letter">o</span>
          <span class="letter">u</span>
          <span class="letter">r</span>
        </span>
        <span class="word">
          <span class="letter">C</span>
          <span class="letter">l</span>
          <span class="letter">i</span>
          <span class="letter">n</span>
          <span class="letter">i</span>
          <span class="letter">c</span>
          <span class="letter">a</span>
          <span class="letter">l</span>
        </span>
        <span class="word">
          <span class="letter">H</span>
          <span class="letter">i</span>
          <span class="letter">s</span>
          <span class="letter">t</span>
          <span class="letter">o</span>
          <span class="letter">r</span>
          <span class="letter">y</span>
        </span>
        <span class="word">
          <span class="letter">T</span>
          <span class="letter">a</span>
          <span class="letter">k</span>
          <span class="letter">i</span>
          <span class="letter">n</span>
          <span class="letter">g</span>
        </span>
        <span class="word">
          <span class="letter">S</span>
          <span class="letter">k</span>
          <span class="letter">i</span>
          <span class="letter">l</span>
          <span class="letter">l</span>
          <span class="letter">s</span>
        </span>
        <span class="word">
          <span class="letter">w</span>
          <span class="letter">i</span>
          <span class="letter">t</span>
          <span class="letter">h</span>
        </span>
        <span class="word">
          <span class="letter">R</span>
          <span class="letter">e</span>
          <span class="letter">a</span>
          <span class="letter">l</span>
          <span class="letter">i</span>
          <span class="letter">s</span>
          <span class="letter">t</span>
          <span class="letter">i</span>
          <span class="letter">c</span>
        </span>
        <span class="word">
          <span class="letter">P</span>
          <span class="letter">a</span>
          <span class="letter">t</span>
          <span class="letter">i</span>
          <span class="letter">e</span>
          <span class="letter">n</span>
          <span class="letter">t</span>
          <span class="letter">s</span>
        </span>
        <span class="word">
          <span class="letter">S</span>
          <span class="letter">i</span>
          <span class="letter">m</span>
          <span class="letter">u</span>
          <span class="letter">l</span>
          <span class="letter">a</span>
          <span class="letter">t</span>
          <span class="letter">e</span>
          <span class="letter">d</span>
        </span>
        <span class="word">
          <span class="letter">U</span>
          <span class="letter">s</span>
          <span class="letter">i</span>
          <span class="letter">n</span>
          <span class="letter">g</span>
        </span>
        <span class="word">
          <span class="letter">A</span>
          <span class="letter">I</span>
        </span>
      </h2>
      <p>Interact using your keyboard or your own voice!</p>
      <p class="risk-reversal">Enjoy a 48‑hour free trial – no obligation, cancel anytime.</p>
    </div>
  </section>

  <!-- How It Works Section (Carousel) -->
  <section id="howitworks" class="section-pastel-lavender">
    <h2 class="section-title piano-text">
      <span class="word">
        <span class="letter">H</span>
        <span class="letter">o</span>
        <span class="letter">w</span>
      </span>
      <span class="word">
        <span class="letter">I</span>
        <span class="letter">t</span>
      </span>
      <span class="word">
        <span class="letter">W</span>
        <span class="letter">o</span>
        <span class="letter">r</span>
        <span class="letter">k</span>
        <span class="letter">s</span>
      </span>
    </h2>
    <div class="carousel-container">
      <div class="carousel-slide" id="carouselSlide">
        <!-- Slide 1: Choose a Scenario -->
        <div class="carousel-item">
          <h3>1. Choose a Scenario</h3>
          <p>Customise your patient in terms of complexity and then select a body system (e.g., cardiovascular) on which your presenting complaint will be based.</p>
          <img src="{{ url_for('static', filename='Carousel1.PNG') }}" alt="Choose a Scenario">
        </div>
        <!-- Slide 2: Interact with AI Patients -->
        <div class="carousel-item">
          <h3>2. Interact with AI Patients</h3>
          <p>Engage in dynamic dialogues using a keyboard or live chat using your voice that simulate real patient interactions.</p>
          <video autoplay muted loop style="max-width:100%; border-radius:8px;">
            <source src="{{ url_for('static', filename='demo.mp4') }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <!-- Slide 3: Request Physical Examination Results -->
        <div class="carousel-item">
          <h3>3. Request Physical Examination Results</h3>
          <p>Submit your request and receive comprehensive physical examination results to support your diagnosis.</p>
          <img src="{{ url_for('static', filename='Carousel3.PNG') }}" alt="Request Physical Examination Results">
        </div>
        <!-- Slide 4: Receive Instant Feedback -->
        <div class="carousel-item">
          <h3>4. Receive Instant Feedback on Your Performance</h3>
          <p>Gain immediate insights and detailed performance reviews structured around the Calgary-Cambridge model to enhance your skills.</p>
          <img src="{{ url_for('static', filename='Carousel4.PNG') }}" alt="Instant Feedback">
        </div>
      </div>
      <div class="carousel-controls">
        <!-- Replacing text-based buttons with icons -->
        <button onclick="prevSlide()"><i class="fas fa-chevron-left"></i></button>
        <button onclick="nextSlide()"><i class="fas fa-chevron-right"></i></button>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="section-pastel-mint">
    <h2 class="section-title piano-text">
      <span class="word">
        <span class="letter">K</span>
        <span class="letter">e</span>
        <span class="letter">y</span>
      </span>
      <span class="word">
        <span class="letter">F</span>
        <span class="letter">e</span>
        <span class="letter">a</span>
        <span class="letter">t</span>
        <span class="letter">u</span>
        <span class="letter">r</span>
        <span class="letter">e</span>
        <span class="letter">s</span>
      </span>
    </h2>
    <div class="features-grid">
      <div class="feature-item">
        <h3>Immersive AI Patients</h3>
        <p>Experience life-like patient interactions that adapt to your approach in real-time. Choose from three levels: simple problem/simple patient, complex problem/simple patient, or complex problem/complex patient.</p>
      </div>
      <div class="feature-item">
        <h3>Feedback</h3>
        <p>Receive structured feedback based on recognized communication models.</p>
      </div>
      <div class="feature-item">
        <h3>Customise Your Patient</h3>
        <p>Choose from a wide selection of body systems to derive the presenting complaint, or select random if you're feeling adventurous!</p>
      </div>
      <div class="feature-item">
        <h3>Use Voice or Typing</h3>
        <p>Switch between input modes during the consultation so you can practice anytime, anywhere!</p>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="section-pastel-peach">
    <h2 class="section-title piano-text">
      <span class="word">
        <span class="letter">W</span>
        <span class="letter">h</span>
        <span class="letter">a</span>
        <span class="letter">t</span>
      </span>
      <span class="word">
        <span class="letter">O</span>
        <span class="letter">u</span>
        <span class="letter">r</span>
      </span>
      <span class="word">
        <span class="letter">U</span>
        <span class="letter">s</span>
        <span class="letter">e</span>
        <span class="letter">r</span>
        <span class="letter">s</span>
      </span>
      <span class="word">
        <span class="letter">S</span>
        <span class="letter">a</span>
        <span class="letter">y</span>
      </span>
    </h2>
    <div class="testimonials">
      <p class="quote typing-effect" data-quote="“This is the future of simulation right here.” – GP"></p>
      <p class="quote typing-effect" data-quote="“An indispensable tool for developing clinical assessment skills.” – Pharmacist"></p>
      <p class="quote typing-effect" data-quote="“I wish I had this when I was studying.” – Nurse"></p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <small>&copy; 2025 Simul-AI-tor Ltd. All rights reserved.</small>
  </footer>

  <!-- JavaScript for Smooth Scrolling, Carousel, Piano-Key, and Typing Effects -->
  <script>
    // Smooth scroll to section helper
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }

    // Animate sections when scrolled into view
    const sections = document.querySelectorAll("section");
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });
    sections.forEach(section => observer.observe(section));

    // Carousel functionality
    let currentSlide = 0;
    const slideContainer = document.getElementById("carouselSlide");
    const totalSlides = slideContainer.children.length;

    function updateCarousel() {
      slideContainer.style.transform = 'translateX(' + (-currentSlide * 100) + '%)';
    }
    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateCarousel();
    }
    function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateCarousel();
    }
    window.addEventListener('load', updateCarousel);

    // Basic mobile swipe support
    let startX = 0;
    let endX = 0;
    slideContainer.addEventListener("touchstart", (e) => {
      startX = e.changedTouches[0].clientX;
    });
    slideContainer.addEventListener("touchend", (e) => {
      endX = e.changedTouches[0].clientX;
      handleSwipe();
    });
    function handleSwipe() {
      if (startX - endX > 50) {
        nextSlide();
      } else if (endX - startX > 50) {
        prevSlide();
      }
    }

    // Piano-Key Effect on Letters
    document.addEventListener('DOMContentLoaded', function() {
      const letters = document.querySelectorAll('.letter');
      letters.forEach((letter, index) => {
        letter.addEventListener('mouseenter', function() {
          letters.forEach(l => l.classList.remove('hover-center', 'hover-left', 'hover-right'));
          letter.classList.add('hover-center');
          if (index > 0) letters[index - 1].classList.add('hover-left');
          if (index < letters.length - 1) letters[index + 1].classList.add('hover-right');
        });
        letter.addEventListener('mouseleave', function() {
          letters.forEach(l => l.classList.remove('hover-center', 'hover-left', 'hover-right'));
        });
      });
    });

    // Sequential Typing Effect for Testimonial Quotes
    document.addEventListener('DOMContentLoaded', function() {
      function typeText(element, text, speed, callback) {
        let i = 0;
        function type() {
          if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else if (callback) {
            callback();
          }
        }
        type();
      }

      const quotes = document.querySelectorAll('.typing-effect');

      function typeNextQuote(index) {
        if (index >= quotes.length) return;
        const quote = quotes[index];
        const text = quote.getAttribute('data-quote');
        quote.innerHTML = '';
        typeText(quote, text, 50, function() {
          typeNextQuote(index + 1);
        });
      }

      typeNextQuote(0);
    });
  </script>
</body>
</html>
